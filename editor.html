<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Proje Editörü – Bahadır</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #f5f5f5;
      color: #111;
      padding: 24px 16px 64px;
    }

    .container {
      max-width: 960px;
      margin: 0 auto;
      background: #fff;
      border-radius: 16px;
      padding: 20px 20px 28px;
      box-shadow: 0 18px 40px rgba(15,23,42,0.08);
    }

    h1 {
      font-size: 22px;
      margin-bottom: 4px;
    }

    .sub { font-size: 13px; color: #666; margin-bottom: 16px; }

    form {
      border: 1px solid #e5e5e5;
      border-radius: 12px;
      padding: 16px 16px 10px;
      margin-bottom: 16px;
    }

    .field {
      margin-bottom: 10px;
    }

    .field label {
      display: block;
      font-size: 13px;
      font-weight: 500;
      margin-bottom: 3px;
    }

    .field input[type="text"],
    .field textarea,
    .field input[type="date"] {
      width: 100%;
      padding: 6px 8px;
      border-radius: 6px;
      border: 1px solid #d4d4d4;
      font-size: 13px;
    }

    .field textarea {
      min-height: 60px;
      resize: vertical;
    }

    .chips {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      font-size: 13px;
    }

    .chips label {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid #d4d4d4;
      cursor: pointer;
      user-select: none;
    }

    .chips input { margin: 0; }

    .gallery-items {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 6px;
    }

    .gallery-item {
      display: flex;
      gap: 6px;
      align-items: center;
    }

    .gallery-item select,
    .gallery-item input {
      font-size: 12px;
      padding: 4px 6px;
      border-radius: 6px;
      border: 1px solid #d4d4d4;
    }

    .gallery-item input {
      flex: 1;
    }

    .btn {
      border-radius: 999px;
      padding: 7px 14px;
      font-size: 13px;
      border: 1px solid #d4d4d4;
      background: #fff;
      cursor: pointer;
      margin-top: 6px;
    }

    .btn-primary {
      border-color: #2962ff;
      background: #2962ff;
      color: #fff;
    }

    .btn-small {
      padding: 4px 10px;
      font-size: 12px;
    }

    .btn + .btn { margin-left: 6px; }

    .projects-list {
      margin-top: 16px;
      font-size: 13px;
    }

    .projects-list h2 {
      font-size: 16px;
      margin-bottom: 4px;
    }

    .projects-list ul {
      list-style: none;
      padding-left: 0;
      border-radius: 10px;
      border: 1px solid #e5e5e5;
      max-height: 220px;
      overflow-y: auto;
    }

    .projects-list li {
      padding: 6px 10px;
      border-bottom: 1px solid #f0f0f0;
      display: flex;
      justify-content: space-between;
      gap: 8px;
    }

    .projects-list li:last-child {
      border-bottom: none;
    }

    .projects-list span.date {
      color: #777;
      font-size: 12px;
    }

    .code-export {
      margin-top: 16px;
    }

    .code-export textarea {
      width: 100%;
      min-height: 180px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 12px;
      padding: 8px;
      border-radius: 8px;
      border: 1px solid #d4d4d4;
      background: #0f172a;
      color: #e5e7eb;
      resize: vertical;
      white-space: pre;
    }

    .hint {
      font-size: 12px;
      color: #666;
      margin-top: 6px;
    }

    .row-inline {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .row-inline .field { flex: 1; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Proje Editörü</h1>
    <div class="sub">
      Bu sayfayı sadece sen kullanacaksın. Formu doldur → projeyi ekle → alttaki
      kodu kopyalayıp <strong>index.html</strong> içindeki <code>const projects = [];</code>
      kısmının yerine yapıştır.
    </div>

    <form id="project-form">
      <div class="field">
        <label>Başlık (name)</label>
        <input type="text" id="name" required />
      </div>

      <div class="field">
        <label>Rol (role)</label>
        <input type="text" id="role" placeholder="Simulation Developer & Technical Designer" />
      </div>

      <div class="field">
        <label>Kısa Etiket (tagline)</label>
        <input type="text" id="tagline" placeholder="VR • Medical Simulation" />
      </div>

      <div class="field">
        <label>Tarih</label>
        <input type="date" id="date" />
      </div>

      <div class="field">
        <label>Türler (filtreler için)</label>
        <div class="chips">
          <label><input type="checkbox" value="yazilim" /> Yazılım</label>
          <label><input type="checkbox" value="tasarim" /> Tasarım</label>
          <label><input type="checkbox" value="donanim" /> Donanım</label>
          <label><input type="checkbox" value="simulasyon" /> Simülasyon</label>
        </div>
      </div>

      <div class="field">
        <label>Kısa Açıklama (shortDesc)</label>
        <textarea id="shortDesc" placeholder="Kart üzerinde gözükecek özet açıklama"></textarea>
      </div>

      <div class="field">
        <label>Detaylı Açıklama (longDesc)</label>
        <textarea id="longDesc" placeholder="Panel açıldığında gözükecek detaylı açıklama"></textarea>
      </div>

      <div class="field">
        <label>Kart Kapak Görseli (coverImage URL)</label>
        <input type="text" id="coverImage" placeholder="ör: images/knee-cover.jpg" />
        <div class="hint">Dosyayı repo'ya <code>images/...</code> olarak ekleyip buraya yolunu yaz.</div>
      </div>

      <div class="field">
        <label>Galeri (panelde küçük albüm – görsel / video)</label>
        <div class="gallery-items" id="gallery-items"></div>
        <button type="button" class="btn btn-small" id="add-gallery-item">+ Görsel / Video satırı ekle</button>
        <div class="hint">Her satır: tür + kaynak yolu + açıklama. Videosu varsa <code>videos/...</code> yolunu yaz.</div>
      </div>

      <button type="submit" class="btn btn-primary">Projeyi ekle</button>
      <button type="button" class="btn" id="clear-form">Formu temizle</button>
    </form>

    <div class="projects-list">
      <h2>Eklenen Projeler</h2>
      <ul id="projects-list"></ul>
      <div class="hint">Sıralama: en üstte eklediğin ilk proje.</div>
    </div>

    <div class="code-export">
      <h2>index.html için kod</h2>
      <textarea id="export-code" readonly></textarea>
      <div class="hint">
        Tüm kodu kopyala → <strong>index.html</strong> içinde
        <code>const projects = [];</code> satırını bu kodla değiştir.
      </div>
    </div>
  </div>

  <script>
    const form = document.getElementById('project-form');
    const galleryContainer = document.getElementById('gallery-items');
    const addGalleryBtn = document.getElementById('add-gallery-item');
    const projectsListEl = document.getElementById('projects-list');
    const exportCodeEl = document.getElementById('export-code');
    const clearFormBtn = document.getElementById('clear-form');

    let projects = [];

    function slugify(text) {
      return text
        .toString()
        .toLowerCase()
        .trim()
        .replace(/ğ/g, 'g')
        .replace(/ü/g, 'u')
        .replace(/ş/g, 's')
        .replace(/ı/g, 'i')
        .replace(/ö/g, 'o')
        .replace(/ç/g, 'c')
        .replace(/[^a-z0-9]+/g, '-')
        .replace(/^-+|-+$/g, '');
    }

    function addGalleryRow(type = 'image', src = '', alt = '') {
      const row = document.createElement('div');
      row.className = 'gallery-item';

      row.innerHTML = `
        <select class="gallery-type">
          <option value="image"${type === 'image' ? ' selected' : ''}>Görsel</option>
          <option value="video"${type === 'video' ? ' selected' : ''}>Video</option>
        </select>
        <input type="text" class="gallery-src" placeholder="images/..., videos/..." value="${src}" />
        <input type="text" class="gallery-alt" placeholder="Açıklama (alt)" value="${alt}" />
        <button type="button" class="btn btn-small gallery-remove">Sil</button>
      `;

      row.querySelector('.gallery-remove').addEventListener('click', () => {
        row.remove();
      });

      galleryContainer.appendChild(row);
    }

    addGalleryBtn.addEventListener('click', () => addGalleryRow());

    clearFormBtn.addEventListener('click', () => {
      form.reset();
      galleryContainer.innerHTML = '';
    });

    function renderProjectsList() {
      projectsListEl.innerHTML = '';
      projects.forEach(p => {
        const li = document.createElement('li');
        li.innerHTML = `
          <span>${p.name}</span>
          <span class="date">${p.date || ''}</span>
        `;
        projectsListEl.appendChild(li);
      });
    }

    function updateExportCode() {
      const json = JSON.stringify(projects, null, 2);
      exportCodeEl.value = `const projects = ${json};`;
    }

    form.addEventListener('submit', e => {
      e.preventDefault();

      const name = document.getElementById('name').value.trim();
      if (!name) return;

      const role = document.getElementById('role').value.trim();
      const tagline = document.getElementById('tagline').value.trim();
      const date = document.getElementById('date').value;
      const shortDesc = document.getElementById('shortDesc').value.trim();
      const longDesc = document.getElementById('longDesc').value.trim();
      const coverImage = document.getElementById('coverImage').value.trim();

      const typeChecks = form.querySelectorAll('.chips input[type="checkbox"]');
      const types = [];
      typeChecks.forEach(ch => {
        if (ch.checked) types.push(ch.value);
      });

      const galleryItems = [];
      galleryContainer.querySelectorAll('.gallery-item').forEach(row => {
        const type = row.querySelector('.gallery-type').value;
        const src = row.querySelector('.gallery-src').value.trim();
        const alt = row.querySelector('.gallery-alt').value.trim();
        if (!src) return;
        galleryItems.push({ type, src, alt });
      });

      const idBase = slugify(name);
      let id = idBase || 'project';
      let counter = 1;
      while (projects.some(p => p.id === id)) {
        id = `${idBase}-${counter++}`;
      }

      const project = {
        id,
        name,
        role,
        tagline,
        date,
        types,
        shortDesc,
        longDesc,
        coverImage,
        gallery: galleryItems
      };

      projects.push(project);
      renderProjectsList();
      updateExportCode();

      form.reset();
      galleryContainer.innerHTML = '';
    });
  </script>
</body>
</html>
